![AlphaBot Use Case Diagram](./useCaseDiagram.png)

### Use Case #N : <제목>

**Summary**  
: 

**Scope / Level**  
: <Scope>, <Level>

**Author / Last Updated**  
: <Author>, <Last Updated>

**Actors**  
: Primary – <>, Secondary – <>

**Status**  
: <Analysis / Draft / …>

**Preconditions**  
: 

**Trigger**  
: 

**Post Conditions**  
: Success – <> / Failed – <>

**Main Flow**
1. 
2. 
3. 

**Extensions**
- 2a. <조건> → 2a1. <동작>
- 3b. <조건> → 3b1. <동작>

**Related**
- Performance: ≤ n s / Frequency: / Concurrency: / Due Date:








### Use Case #예제 : 종목 검색

**Summary**  
: 사용자가 티커/종목명을 입력해 관련 종목 목록과 핵심 메타데이터를 조회한다.

**Scope / Level**  
: 종목 정보 조회 및 관리, User level

**Author / Last Updated**  
: 김지광(예제), 2025-10-29

**Actors**  
: Primary – 인증 사용자  
: Secondary – 외부 금융 데이터 API, 시스템(검색 캐시/로그)

**Status**  
: Analysis

**Preconditions**  
: 로그인 상태, 네트워크 연결 가능, 외부 API 자격 정보 유효

**Trigger**  
: 검색창에 티커/종목명 입력 후 Enter 또는 검색 아이콘 클릭

**Post Conditions**  
: Success – 결과 목록 표시 및 검색어가 검색 기록에 저장됨 / Failed – 오류 또는 결과 없음 안내, 검색 기록 미저장

**Main Flow**
1. 사용자가 검색어(티커/종목명)를 입력한다.
2. 시스템이 입력을 검증 및 정규화한다.
3. (선택) 자동완성 후보를 제시한다.
4. 사용자가 검색을 확정한다.
5. 시스템이 캐시를 조회하고, 미적중 시 외부 금융 데이터 API를 호출한다.
6. 시스템이 결과를 정렬·정규화하여 목록을 구성한다.
7. 시스템이 결과 목록(티커, 종목명, 거래소, 현재가 요약 등)을 표시한다.
8. 시스템이 검색어와 시각을 사용자 검색 기록에 저장한다.

**Extensions**
- 2a. 입력 공백/최소 글자수 미달 → “검색어를 입력하세요” 메시지, 종료
- 5a. API 타임아웃/오류 → 1회 재시도, 캐시 있으면 캐시 사용·없으면 오류 안내
- 6a. 결과 0건 → “일치하는 종목이 없습니다”와 검색 도움말 노출
- 8a. 비인증 사용자 → 결과는 표시, 검색 기록 저장은 생략
- 5b. 호출 제한 초과 → 지수 백오프 적용 후 실패 시 안내 배너

**Related**
- Performance: 캐시 ≤ 0.5 s, API ≤ 2 s
- Frequency: 상시
- Concurrency: 제한 없음(서버에서 레이트 리밋)
- Due Date: N/A





### Use Case #1 : 종목 상세 정보 조회

**Summary**  
: 사용자가 별도 분석 영역의 검색창에서 주식 종목을 선택하면, 해당 종목의 실시간 시세 및 상세 정보를 '상세 정보' 탭에 표시하는 기능이다.

**Scope / Level**  
: 주식 챗봇 시스템, User level

**Author / Last Updated**  
: 이초은, 2025.10.29

**Actors**  
: Primary – 챗봇 인증 사용자

**Status**  
: Analysis 

**Preconditions**  
: 종목 분석 영역이 활성화되어 있어야 한다.

**Trigger**  
: 사용자가 종목 분석 영역 내 검색창에 종목명을 입력하고 검색을 확정했을 때

**Post Conditions**  
: Success – 종목 분석 영역이 활성화되고, 기본으로 '상세 정보' 탭에 실시간 시세 정보가 출력된다. / Failed – 검색된 종목이 없거나, 실시간 시세 조회에 실패하여 오류 메시지가 표시된다.

**Main Flow**
1. 사용자가 종목 분석 영역을 통해 정보 조회를 시작한다.
2. 사용자는 종목 분석 영역의 상단 검색창에 종목명 또는 코드를 입력하고 검색한다.
3. 시스템은 검색 결과 목록을 표시하고, 사용자는 원하는 종목을 선택한다.
4. 시스템은 선택된 종목의 실시간 시세 데이터를 조회하고, 상세 정보 탭에 현재가, 등락률, 거래량 등 상세 시세 정보를 출력한다.
5. 이 Use case는 사용자가 재무제표 탭을 선택하거나 영역을 닫으면 종료된다.

**Extensions**
- 3a. 입력된 정보와 일치하는 종목이 없어 검색 결과가 표시되지 않는다. → 3a1. "검색 결과가 없습니다." 메시지를 검색창 아래에 출력한다.
- 4a. 선택된 종목의 실시간 시세 조회에 실패한다. → 4a1. "실시간 시세 정보를 불러올 수 없습니다." 메시지를 해당 탭에 출력한다.

**Related**
- Performance: 종목 선택 후 기본 정보 표시 ≤ 2 s 
- Frequency: 회원당 하루에 평균 10번
- Concurrency: 제한 없음
- Due Date: N/A


### Use Case #2 : 휴지통 관리

**Summary**  
: 사용자가 삭제한 챗봇 대화 기록이나 저장된 답변 목록을 조회하고, 선택된 항목을 복원하거나 영구 삭제하는 기능이다.

**Scope / Level**  
: 주식 챗봇 시스템, User level

**Author / Last Updated**  
: 이초은, 2025.10.29

**Actors**  
: Primary – 챗봇 인증 사용자

**Status**  
: Analysis 

**Preconditions**  
: 사용자가 이전에 챗봇 대화 기록 또는 저장된 답변을 삭제하여 휴지통에 보관된 항목이 최소 1개 이상 존재해야 한다.

**Trigger**  
: 사용자가 챗봇 사이드바에서 휴지통 메뉴를 클릭했을 때

**Post Conditions**  
: Success – 사용자는 휴지통 목록을 조회하며, 선택한 항목을 성공적으로 복원되거나 영구 삭제한다. / Failed – 휴지통 목록 조회 또는 복원/삭제 과정에서 오류가 발생하여 작업에 실패한다.

**Main Flow**
1. 사용자가 휴지통 관리 기능을 시작한다. 
2. 사용자는 사이드바에서 휴지통 메뉴를 클릭한다.
3. 시스템은 휴지통에 보관된 모든 항목(대화 기록, 저장된 답변)의 목록을 사용자에게 출력한다.
4. 사용자는 목록에서 원하는 항목을 선택하고 복원 또는 영구 삭제 버튼을 클릭한다.
5. 시스템은 선택된 항목에 대한 요청된 작업을 성공적으로 수행하고 목록을 갱신한다.
6. 이 Use cae는 사용자가 휴지통 화면을 벗어나면 끝난다.

**Extensions**
- 4a. 사용자가 ‘영구 삭제’를 선택한다.
 → 4a1. 시스템은 사용자에게 최종 확인 경고 메시지를 출력한다.
 → 4a2. 사용자가 ‘확인’을 누르면 시스템은 해당 항목을 영구 삭제한다.
- 5a.서버 통신 오류로 인해 복원/삭제 작업에 실패한다. → 4a1. “작업에 실패했습니다.” 메시지를 출력하고, Step 3로 돌아간다.

**Related**
- Performance: ≤ 1 s
- Frequency: 회원당 주 평균 3회
- Concurrency: 제한 없음
- Due Date: N/A


### Use Case #3 : 재무제표 조회

**Summary**  
: 종목 상세 정보 조회 Use Case를 통해 종목이 선택된 상태에서, 사용자가 별도 분석 영역의 탭 전환을 통해 해당 종목의 재무제표 데이터를 조회하고 핵심 지표를 확인하는 기능이다.

**Scope / Level**  
: 주식 챗봇 시스템, User level

**Author / Last Updated**  
: 이초은, 2025.10.29

**Actors**  
: Primary – 챗봇 인증 사용자

**Status**  
: Analysis

**Preconditions**  
: 1. 종목 분석 영역이 활성화되어 있어야 한다. 
  2. 해당 영역에서 조회할 종목이 이미 선택되어 있어야 한다. 
  3. 현재 상세 정보 탭에 있거나, 재무제표 탭에 진입하기 직전 상태여야 한다.

**Trigger**  
: 사용자가 종목 분석 영역 내에서 재무제표 탭을 클릭했을 때

**Post Conditions**  
: Success – 종목 분석 영역이 재무제표 탭으로 전환되며, 재무제표 데이터가 표 및 그래프 형태로 출력된다. / Failed – 해당 종목의 재무 데이터가 존재하지 않거나, 조회에 실패하여 오류 메시지가 표시된다.

**Main Flow**
1. 사용자가 재무제표 조회 기능을 시작한다.
2. 사용자는 종목 분석 영역 내 탭 메뉴에서 재무제표 탭을 클릭한다.
3. 시스템은 선택된 종목에 대한 재무제표 데이터를 조회한다.
4. 시스템은 조회된 데이터를 바탕으로 재무 상태표, 손익계산서, 현금흐름표 등을 재무제표 탭에 기간별/시각화 형태로 출력한다.
5. 이 Use case는 사용자가 다른 탭을 선택하거나 종목 분석 영역을 닫으면 종료된다.

**Extensions**
- 3a. 해당 종목에 대한 재무 데이터가 존재하지 않거나, 조회에 실패한다. → 3a1. "재무 데이터가 존재하지 않거나, 조회에 실패했습니다." 메시지를 해당 탭에 출력한다.

**Related**
- Performance: 탭 전환 후 데이터 표시 ≤ 3 s
- Frequency: 회원당 하루 평균 5회
- Concurrency: 제한 없음
- Due Date: N/A
