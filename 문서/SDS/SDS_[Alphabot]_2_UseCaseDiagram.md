![AlphaBot Use Case Diagram](./useCaseDiagram.png)

### Use Case #N : <제목>

**Summary**  
: 

**Scope / Level**  
: <Scope>, <Level>

**Author / Last Updated**  
: <Author>, <Last Updated>

**Actors**  
: Primary – <>, Secondary – <>

**Status**  
: <Analysis / Draft / …>

**Preconditions**  
: 

**Trigger**  
: 

**Post Conditions**  
: Success – <> / Failed – <>

**Main Flow**
1. 
2. 
3. 

**Extensions**
- 2a. <조건> → 2a1. <동작>
- 3b. <조건> → 3b1. <동작>

**Related**
- Performance: ≤ n s / Frequency: / Concurrency: / Due Date:








### Use Case #예제 : 종목 검색

**Summary**  
: 사용자가 티커/종목명을 입력해 관련 종목 목록과 핵심 메타데이터를 조회한다.

**Scope / Level**  
: 종목 정보 조회 및 관리, User level

**Author / Last Updated**  
: 김지광(예제), 2025-10-29

**Actors**  
: Primary – 인증 사용자  
: Secondary – 외부 금융 데이터 API, 시스템(검색 캐시/로그)

**Status**  
: Analysis

**Preconditions**  
: 로그인 상태, 네트워크 연결 가능, 외부 API 자격 정보 유효

**Trigger**  
: 검색창에 티커/종목명 입력 후 Enter 또는 검색 아이콘 클릭

**Post Conditions**  
: Success – 결과 목록 표시 및 검색어가 검색 기록에 저장됨 / Failed – 오류 또는 결과 없음 안내, 검색 기록 미저장

**Main Flow**
1. 사용자가 검색어(티커/종목명)를 입력한다.
2. 시스템이 입력을 검증 및 정규화한다.
3. (선택) 자동완성 후보를 제시한다.
4. 사용자가 검색을 확정한다.
5. 시스템이 캐시를 조회하고, 미적중 시 외부 금융 데이터 API를 호출한다.
6. 시스템이 결과를 정렬·정규화하여 목록을 구성한다.
7. 시스템이 결과 목록(티커, 종목명, 거래소, 현재가 요약 등)을 표시한다.
8. 시스템이 검색어와 시각을 사용자 검색 기록에 저장한다.

**Extensions**
- 2a. 입력 공백/최소 글자수 미달 → “검색어를 입력하세요” 메시지, 종료
- 5a. API 타임아웃/오류 → 1회 재시도, 캐시 있으면 캐시 사용·없으면 오류 안내
- 6a. 결과 0건 → “일치하는 종목이 없습니다”와 검색 도움말 노출
- 8a. 비인증 사용자 → 결과는 표시, 검색 기록 저장은 생략
- 5b. 호출 제한 초과 → 지수 백오프 적용 후 실패 시 안내 배너

**Related**
- Performance: 캐시 ≤ 0.5 s, API ≤ 2 s
- Frequency: 상시
- Concurrency: 제한 없음(서버에서 레이트 리밋)
- Due Date: N/A





### Use Case #1 : 종목 상세 정보 조회

**Summary**  
: 사용자가 별도 분석 영역의 검색창에서 주식 종목을 선택하면, 해당 종목의 실시간 시세 및 상세 정보를 '상세 정보' 탭에 표시하는 기능이다.

**Scope / Level**  
: 주식 챗봇 시스템, User level

**Author / Last Updated**  
: 이초은, 2025.10.29

**Actors**  
: Primary – 챗봇 인증 사용자

**Status**  
: Analysis 

**Preconditions**  
: 종목 분석 영역이 활성화되어 있어야 한다.

**Trigger**  
: 사용자가 종목 분석 영역 내 검색창에 종목명을 입력하고 검색을 확정했을 때

**Post Conditions**  
: Success – 종목 분석 영역이 활성화되고, 기본으로 '상세 정보' 탭에 실시간 시세 정보가 출력된다. / Failed – 검색된 종목이 없거나, 실시간 시세 조회에 실패하여 오류 메시지가 표시된다.

**Main Flow**
1. 사용자가 종목 분석 영역을 통해 정보 조회를 시작한다.
2. 사용자는 종목 분석 영역의 상단 검색창에 종목명 또는 코드를 입력하고 검색한다.
3. 시스템은 검색 결과 목록을 표시하고, 사용자는 원하는 종목을 선택한다.
4. 시스템은 선택된 종목의 실시간 시세 데이터를 조회하고, 상세 정보 탭에 현재가, 등락률, 거래량 등 상세 시세 정보를 출력한다.
5. 이 Use case는 사용자가 재무제표 탭을 선택하거나 영역을 닫으면 종료된다.

**Extensions**
- 3a. 입력된 정보와 일치하는 종목이 없어 검색 결과가 표시되지 않는다. → 3a1. "검색 결과가 없습니다." 메시지를 검색창 아래에 출력한다.
- 4a. 선택된 종목의 실시간 시세 조회에 실패한다. → 4a1. "실시간 시세 정보를 불러올 수 없습니다." 메시지를 해당 탭에 출력한다.

**Related**
- Performance: 종목 선택 후 기본 정보 표시 ≤ 2 s 
- Frequency: 회원당 하루에 평균 10번
- Concurrency: 제한 없음
- Due Date: N/A


### Use Case #2 : 휴지통 관리

**Summary**  
: 사용자가 삭제한 챗봇 대화 기록이나 저장된 답변 목록을 조회하고, 선택된 항목을 복원하거나 영구 삭제하는 기능이다.

**Scope / Level**  
: 주식 챗봇 시스템, User level

**Author / Last Updated**  
: 이초은, 2025.10.29

**Actors**  
: Primary – 챗봇 인증 사용자

**Status**  
: Analysis 

**Preconditions**  
: 사용자가 이전에 챗봇 대화 기록 또는 저장된 답변을 삭제하여 휴지통에 보관된 항목이 최소 1개 이상 존재해야 한다.

**Trigger**  
: 사용자가 챗봇 사이드바에서 휴지통 메뉴를 클릭했을 때

**Post Conditions**  
: Success – 사용자는 휴지통 목록을 조회하며, 선택한 항목을 성공적으로 복원되거나 영구 삭제한다. / Failed – 휴지통 목록 조회 또는 복원/삭제 과정에서 오류가 발생하여 작업에 실패한다.

**Main Flow**
1. 사용자가 휴지통 관리 기능을 시작한다. 
2. 사용자는 사이드바에서 휴지통 메뉴를 클릭한다.
3. 시스템은 휴지통에 보관된 모든 항목(대화 기록, 저장된 답변)의 목록을 사용자에게 출력한다.
4. 사용자는 목록에서 원하는 항목을 선택하고 복원 또는 영구 삭제 버튼을 클릭한다.
5. 시스템은 선택된 항목에 대한 요청된 작업을 성공적으로 수행하고 목록을 갱신한다.
6. 이 Use cae는 사용자가 휴지통 화면을 벗어나면 끝난다.

**Extensions**
- 4a. 사용자가 ‘영구 삭제’를 선택한다.
 → 4a1. 시스템은 사용자에게 최종 확인 경고 메시지를 출력한다.
 → 4a2. 사용자가 ‘확인’을 누르면 시스템은 해당 항목을 영구 삭제한다.
- 5a.서버 통신 오류로 인해 복원/삭제 작업에 실패한다. → 4a1. “작업에 실패했습니다.” 메시지를 출력하고, Step 3로 돌아간다.

**Related**
- Performance: ≤ 1 s
- Frequency: 회원당 주 평균 3회
- Concurrency: 제한 없음
- Due Date: N/A


### Use Case #3 : 재무제표 조회

**Summary**  
: 종목 상세 정보 조회 Use Case를 통해 종목이 선택된 상태에서, 사용자가 별도 분석 영역의 탭 전환을 통해 해당 종목의 재무제표 데이터를 조회하고 핵심 지표를 확인하는 기능이다.

**Scope / Level**  
: 주식 챗봇 시스템, User level

**Author / Last Updated**  
: 이초은, 2025.10.29

**Actors**  
: Primary – 챗봇 인증 사용자

**Status**  
: Analysis

**Preconditions**  
: 1. 종목 분석 영역이 활성화되어 있어야 한다. 
  2. 해당 영역에서 조회할 종목이 이미 선택되어 있어야 한다. 
  3. 현재 상세 정보 탭에 있거나, 재무제표 탭에 진입하기 직전 상태여야 한다.

**Trigger**  
: 사용자가 종목 분석 영역 내에서 재무제표 탭을 클릭했을 때

**Post Conditions**  
: Success – 종목 분석 영역이 재무제표 탭으로 전환되며, 재무제표 데이터가 표 및 그래프 형태로 출력된다. / Failed – 해당 종목의 재무 데이터가 존재하지 않거나, 조회에 실패하여 오류 메시지가 표시된다.

**Main Flow**
1. 사용자가 재무제표 조회 기능을 시작한다.
2. 사용자는 종목 분석 영역 내 탭 메뉴에서 재무제표 탭을 클릭한다.
3. 시스템은 선택된 종목에 대한 재무제표 데이터를 조회한다.
4. 시스템은 조회된 데이터를 바탕으로 재무 상태표, 손익계산서, 현금흐름표 등을 재무제표 탭에 기간별/시각화 형태로 출력한다.
5. 이 Use case는 사용자가 다른 탭을 선택하거나 종목 분석 영역을 닫으면 종료된다.

**Extensions**
- 3a. 해당 종목에 대한 재무 데이터가 존재하지 않거나, 조회에 실패한다. → 3a1. "재무 데이터가 존재하지 않거나, 조회에 실패했습니다." 메시지를 해당 탭에 출력한다.

**Related**
- Performance: 탭 전환 후 데이터 표시 ≤ 3 s
- Frequency: 회원당 하루 평균 5회
- Concurrency: 제한 없음
- Due Date: N/A


### Use Case #4 : 채팅 메시지 저장

**Summary**  
: 인증된 사용자가 대화방 내의 특정 채팅 메시지를 저장(북마크)하고 카테고리를 설정하여 나중에 다시 볼 수 있도록 하는 기능

**Scope / Level**  
: 주식 챗봇 시스템 (Alpha Bot), User level

**Author / Last Updated**  
: 박현서, 2025. 10. 30

**Actors**  
: Primary – 인증 사용자

**Status**  
: Analysis (Finalize)

**Preconditions**  
: 1. 사용자가 시스템에 로그인 되어 있어야 한다.(인증 사용자여야 한다)
  2. 사용자가 생성한 채팅방이 최소 하나 이상 존재해야한다.
  3. 채팅방 내에 북마크(저장)할 채팅 메시지가 존재해야한다.

**Trigger**  
: 사용자가 채팅방에서 저장하려는 메세지의 북마크 버튼을 클릭할 경우

**Post Conditions**  
: Success – 선택된 메시지가 사용자의 카테고리에 저장된다. 시스템이 메시지 저장이 성공했다는 알림을 표시한다.
  Failed – 선택된 메시지가 사용자의 카테고리에 저장되지 않는다. 시스템이 메시지 저장이 실패했다는 알림을 표시한다.

**Main Flow**

s. 사용자가 채팅방의 특정 메시지를 저장하려고 한다.
1. 사용자가 채팅방을 연다.
2. 사용자가 저장하려는 특정 메시지로 이동한다.
3. 사용자가 메시지의 저장(북마크) 버튼을 클릭한다.
4. 시스템이 ‘카테고리 선택’ 팝업을 표시한다.
5. 사용자가 기존 카테고리중 하나를 선택하거나 새 카테고리를 생성하여 선택한다.
6. 시스템은 해당 메시지를 카테고리 목록에 저장한다.
7. 시스템은 해당 메시지가 성공적으로 저장되었다는 알림을 표시한다.
8. 시스템이 저장 완료 알림을 표시하면 이 use case는 종료된다.


**Extensions**
- 3a. 이미 저장된 메시지를 다시 저장하려고 한다.
  → 3a1. 시스템은 이미 저장된 메시지 이므로 북마크에 다시 저장하지 않는다.
  → 3a2. 시스템이 “이미 저장된 메시지입니다”라는 알림을 표시한다.
- 5a 사용자가 새 카테고리를 생성하여 선택하려고 한다.
  → 5a1. 사용자가 새 카테고리 생성을 선택한다.
  → 5a2. 시스템이 새 카테고리명 입력 필드를 표시한다.
  → 5a3. 사용자가 새 카테고리명을 입력하고 '저장'을 클릭한다.
  → 5a4. 시스템이 새 카테고리를 생성하고 해당 카테고리에 메시지를 저장한다.
  → 5a5. 시스템이 "메시지가 성공적으로 저장되었습니다"라는 알림을 표시한다.
- 5b 사용자가 메시지 저장을 취소하고자 한다.
  → 5b1. 사용자가 “취소” 버튼을 클릭한다.
  → 5b2. 시스템은 “저장이 취소되었습니다”라는 알림을 표시한다.
- 6a. 네트워크, DB 및 여러 이유로 인해 메시지 저장이 실패한다.
  → 6a1. 시스템이 사용자에게 "저장에 실패했습니다. 나중에 다시 시도해주세요."라는 오류 알림을 표시한다.

**Related**
- Performance: ≤ 2 s 
- Frequency: 사용자당 하루에 평균 3 번
- Concurrency: 제한 없음
- Due Date: 2025. 11. 20


### Use Case #5 : 채팅방 삭제

**Summary**  
: 인증된 사용자가 채팅목록 중에서 특정한 채팅방을 삭제하여 휴지통으로 이동시키는 기능

**Scope / Level**  
: 주식 챗봇 시스템 (Alpha Bot), User level

**Author / Last Updated**  
: 박현서, 2025. 10. 30

**Actors**  
: Primary – 인증 사용자

**Status**  
: Analysis (Finalize)

**Preconditions**  
: 1. 사용자가 시스템에 로그인 되어 있어야 한다.(인증 사용자여야 한다)
  2. 사용자가 생성한 채팅방이 최소 하나 이상 존재해야한다.

**Trigger**  
: 사용자가 채팅목록에서 특정 채팅방을 선택해 삭제 버튼을 클릭한 경우

**Post Conditions**  
: Success – 선택된 채팅방이 사용자의 채팅목록에서 삭제되고 휴지통으로 이동한다. 시스템이 채팅방 삭제에 성공했다는 알림을 표시한다.
  Failed – 선택된 채팅방이 사용자의 채팅목록에서 삭제되지 않는다. 시스템이 채팅방 삭제에 실패했다는 알림을 표시한다.

**Main Flow**
s. 사용자가 채팅목록의 특정 채팅방을 삭제하여 휴지통으로 보내려고 한다.
1. 사용자가 채팅목록 칸에서 삭제하고자 하는 채팅방이 보이도록 이동한다.
2. 사용자는 해당 채팅방 옵션버튼 혹은 우클릭을 통해서 옵션 메뉴를 연다.
3. 사용자는 옵션 메뉴 중 “삭제” 버튼을 클릭한다.
4. 시스템이 "이 채팅방을 삭제하시겠습니까?"라는 확인 팝업을 띄운다. (삭제와 취소버튼이 존재한다.)
5. 사용자가 “삭제” 버튼을 클릭한다.
6. 시스템은 해당 채팅방을 채팅목록에서 삭제하고 휴지통으로 이동시킨한다.
7. 시스템이 “채팅방이 휴지통으로 이동되었습니다”라는 알림을 표시한다.
8. 시스템이 휴지통 이동 알림을 표시하면 이 usecase는 종료된다.



**Extensions**

- 5a. 사용자가 “취소” 버튼을 클릭한다.
  → 5a1. 시스템이 해당 팝업을 닫고 채팅방이 삭제되지 않는다.
  → 5a2. 시스템이 사용자에게 “채팅방 삭제가 취소되었습니다”라는 알림를 표시한다.

- 6a 시스템 오류 등의 이유로 채팅목록이 삭제되지 않거나 휴지통으로 이동이 실패한다.
  → 6a1. 시스템이 사용자에게 “채팅방 삭제에 실패했습니다”라는 오류알림를 표시한다.


**Related**
- Performance: ≤ 2 s 
- Frequency: 사용자당 하루에 평균 2 번
- Concurrency: 제한 없음
- Due Date: 2025. 11. 20